"use strict";!function(document,window){function addEvent(a,b,c){var d=function(){c.call(b)};if(b.attachEvent)b.attachEvent("on"+a,d);else if(b.addEventListener)b.addEventListener(a,d,!1);else{var e=b["on"+a];b["on"+a]=function(){e.call(b),c.call(b)}}}Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),Array.prototype.map||(Array.prototype.map=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=new Array(c),e=arguments.length>=2?arguments[1]:void 0,f=0;c>f;f++)f in b&&(d[f]=a.call(e,b[f],f,b));return d}),Array.prototype.filter||(Array.prototype.filter=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=[],e=arguments.length>=2?arguments[1]:void 0,f=0;c>f;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){for(var c=0,d=this.length;d>c;++c)c in this&&a.call(b,this[c],c,this)}),Array.prototype.some||(Array.prototype.some=function(a,b){for(var c=0,d=this.length;d>c;c++)if(c in this&&a.call(b,this[c],c,this))return!0;return!1}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1}),Date.now||(Date.now=function(){return(new Date).getTime()}),"object"!=typeof JSON&&(window.JSON={}),function(){function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var f,g,h=[];for(f in e)a.call(e,f)&&h.push(f);if(b)for(g=0;d>g;g++)a.call(e,c[g])&&h.push(c[g]);return h}}()),document.querySelectorAll||(document.querySelectorAll=function(a){var b,c=document.createElement("style"),d=[];for(document.documentElement.firstChild.appendChild(c),document._qsa=[],c.styleSheet.cssText=a+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),c.parentNode.removeChild(c);document._qsa.length;)b=document._qsa.shift(),b.style.removeAttribute("x-qsa"),d.push(b);return document._qsa=null,d}),document.querySelector||(document.querySelector=function(a){var b=document.querySelectorAll(a);return b.length?b[0]:null}),window.sessionStorage||(window.sessionStorage={length:0,setItem:function(a,b){document.cookie=a+"="+b+"; path=/",this.length++},getItem:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0,e=c.length;e>d;d++){for(var f=c[d];" "===f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(b))return f.substring(b.length,f.length)}return null},removeItem:function(a){this.setItem(a,"",-1),this.length--},clear:function(){for(var a=document.cookie.split(";"),b=0,c=a.length;c>b;b++){for(var d=a[b];" "===d.charAt(0);)d=d.substring(1,d.length);var e=d.substring(0,d.indexOf("="));this.removeItem(e)}this.length=0},key:function(a){var b=document.cookie.split(";");if(a>=b.length||isNaN(parseFloat(a))||!isFinite(a))return null;for(var c=b[a];" "===c.charAt(0);)c=c.substring(1,c.length);return c.substring(0,c.indexOf("="))}}),String.prototype.trim||!function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}}();var extend=function(a,b){if(a||(a={}),!b)return a;for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},interpolate=function(a,b){return b&&b===Object(b)&&"[object Object]"===Object.prototype.toString.call(b)||(b={}),(a||"").replace(/\${([^{}]*)}/g,function(a,c){var d=c.split("|"),e=d[0].trim(),f=d.length>=2&&interpolate.directives[d[1].trim()],g=b[e];return f?f.apply(e,[g].concat(d.slice(2))):g||""})};interpolate.directives={escape:function(a){return"undefined"==typeof a?"":encodeURIComponent(a)}};var storage=window.sessionStorage,getStorageKey=function(a){return"smartPixel:"+a},getStorageItem=function(a){var b=storage.getItem(getStorageKey(a));return b?JSON.parse(b):null},setStorageItem=function(a,b){storage.setItem(getStorageKey(a),JSON.stringify(b))},getFullState=function(a){return getStorageItem(a.id+":fullState")||[]},pushState=function(a,b,c){var d=getFullState(a);return d.push({name:b,args:c}),setStorageItem(a.id+":fullState",d),d},SmartPixel=function(a){this.id=a,this._listeners={}};SmartPixel.prototype={checkState:function(a){return getFullState(this).some(function(b){return b.name===a})},addEventListener:function(a,b){(this._listeners[a]||(this._listeners[a]=[])).push(b)},removeEventListener:function(a,b){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c]==b&&this._listeners[a].splice(c,1)},pushState:function(a,b,c){Array.isArray(b)&&b.map(function(a){return{type:(a.match(/<([^\s|>|\/]+)/)||[])[1]||"script",src:(a.match(/src="([^"]+)/)||[])[1]||a}}).filter(function(a){return!!a.src}).forEach(function(a){var b=document.createElement(a.type),d=extend(getStorageItem("globalVars"),c),e=interpolate(a.src,d);b.async=!0,b.src=e,document.body.appendChild(b)});var d=pushState(this,a,c);if(this._listeners.changestate)for(var e=0;e<this._listeners.changestate.length;e++)this._listeners.changestate[e].call(this,a,d)},setCustomVars:function(a){a&&setStorageItem("globalVars",a)}};var smartPixel1=window.smartPixel1=new SmartPixel(1);window.smCustomVars&&smartPixel1.setCustomVars(smCustomVars),function(){var a="PageLoaded";getStorageItem(a)||setStorageItem(a,Date.now())}(),function(){var a="PageDepth",b=(0|getStorageItem(a))+1;setStorageItem(a,b)}(),function(a){/hoff/.test(window.location.href)&&a.pushState("visit_site",['<img src="//dmp.vihub.ru/s?sa=2867" width="0" height="0" border="0"/>'])}(smartPixel1)}(document,window);